<div class="container mt-5">
  <div class="text-center mb-4">
    <h1 class="fw-bold">Friend Profile</h1>
  </div>

  <div class="row align-items-center justify-content-center mb-5">
    <div class="col-md-4 text-center mb-4 mb-md-0">
      <% if @friend_profile.photo.attached? %>
        <%= image_tag cl_image_path(@friend_profile.photo.key, height: 300, width: 300, crop: :fill), class: "rounded-5 img-fluid shadow justify-content-center" %>
      <% else %>
        <%= image_tag "logo.jpg", class: "rounded-5 img-fluid shadow" %>
      <% end %>
    </div>
    <div class="card w-50" style="flex-direction: row;">
      <div class="card-body justify-content-center">
        <h2 class="mb-2">Hello, I'm</h2>
        <h1 class="fw-bold"><%= @friend_profile.username %></h1>
        
        <h5 class="mt-4">About me:</h5>
        <p><%= @friend_profile.comments %></p>

        <h5 class="mt-4">My main interest:</h5>
        <div class="hobbies-container">
        <% @friend_profile.hobbies.each do |hobby| %>
          <p class="hobbies"><%= hobby.name %></p>
          <% end %>
        </div>

        <h5 class="mt-4">My location:</h5>
        <p><%= @friend_profile.address %></p>
        <div style="width: 100%; height: 200px;"
          data-controller="map"
          data-map-markers-value="<%= @markers.to_json %>"
          data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
        </div>

        <div class="p-3 text-center align-self-center">
          <h2 class=" mb-2">
            <%= number_to_currency(@friend_profile.day_rate, unit: "â‚¬", precision: 2) %> / day
          </h2>
          <div data-controller="toggle" class="mt-3">
            <button data-action="click->toggle#book" class="button">Book me</button>
            <div data-toggle-target="togglableElement" class="d-none mt-3">
              <%= render "formbooking", booking: @booking, friend_profile: @friend_profile %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
